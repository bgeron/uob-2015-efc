<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>(Week 10 programming: exercises of week 9) &#8212; UoB 2015 EFC auxiliary exercises</title>
    
    <link rel="stylesheet" href="../_static/mytheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/collapse-details-polyfill.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '-',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery.details.min.js"></script>
    <script type="text/javascript" src="../_static/collapse-details-polyfill.js"></script>
    <link rel="top" title="UoB 2015 EFC auxiliary exercises" href="../index.html" />
    <link rel="next" title="Week 11: exercises from week 10" href="week11p.html" />
    <link rel="prev" title="Week 9: programming assignments from week 8" href="week09p-qs.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="week-10-programming-exercises-of-week-9">
<h1>(Week 10 programming: exercises of week 9)<a class="headerlink" href="#week-10-programming-exercises-of-week-9" title="Permalink to this headline">¶</a></h1>
<div class="section" id="question-1">
<h2>Question 1<a class="headerlink" href="#question-1" title="Permalink to this headline">¶</a></h2>
<p>Implement subtraction for Peano numbers. The function needs to be tail-recursive.</p>
<div class="highlight-ocaml"><div class="highlight"><pre><span></span><span class="k">type</span> <span class="n">nat</span> <span class="o">=</span> <span class="nc">Zero</span> <span class="o">|</span> <span class="nc">Suc</span> <span class="k">of</span> <span class="n">nat</span><span class="o">;;</span>
<span class="k">val</span> <span class="n">sub</span> <span class="o">:</span> <span class="n">nat</span> <span class="o">-&gt;</span> <span class="n">nat</span> <span class="o">-&gt;</span> <span class="n">nat</span> <span class="o">=</span> <span class="o">&lt;</span><span class="k">fun</span><span class="o">&gt;</span>
<span class="o">#</span> <span class="n">sub</span> <span class="o">(</span><span class="nc">Suc</span> <span class="nc">Zero</span><span class="o">)</span> <span class="nc">Zero</span> <span class="o">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="n">nat</span> <span class="o">=</span> <span class="nc">Suc</span> <span class="nc">Zero</span>
<span class="o">#</span> <span class="n">sub</span> <span class="o">(</span><span class="nc">Suc</span> <span class="o">(</span><span class="nc">Suc</span> <span class="nc">Zero</span><span class="o">))</span> <span class="o">(</span><span class="nc">Suc</span> <span class="nc">Zero</span><span class="o">);;</span>
<span class="o">-</span> <span class="o">:</span> <span class="n">nat</span> <span class="o">=</span> <span class="nc">Suc</span> <span class="nc">Zero</span>
<span class="o">#</span> <span class="n">sub</span> <span class="nc">Zero</span> <span class="o">(</span><span class="nc">Suc</span> <span class="nc">Zero</span><span class="o">);;</span>
<span class="nc">Exception</span><span class="o">:</span> <span class="nc">Failure</span> <span class="s2">&quot;sub&quot;</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="question-2">
<h2>Question 2<a class="headerlink" href="#question-2" title="Permalink to this headline">¶</a></h2>
<p>Using OCaml&#8217;s rational numbers library <a class="reference external" href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Num.html">Num</a> write a general purpose arbitrary precision <a class="reference external" href="https://en.wikipedia.org/wiki/Root_finding">root-finding</a> function using any algorithm you choose (e.g. <a class="reference external" href="https://en.wikipedia.org/wiki/Bisection_method">bisection</a> or <a class="reference external" href="https://en.wikipedia.org/wiki/Secant_method">secant</a>).</p>
<p>The function  root : (Num.num -&gt; Num.num) -&gt; Num.num -&gt; Num.num -&gt; Num.num -&gt; Num.num should take the following arguments:</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">f</span> <span class="pre">:</span> <span class="pre">Num.num</span> <span class="pre">-&gt;</span> <span class="pre">Num.num</span></code> is the function expressing the equation
<code class="docutils literal"><span class="pre">a</span> <span class="pre">:</span> <span class="pre">Num.num</span></code> is the left endpoint of the interval where the root lies
<code class="docutils literal"><span class="pre">b</span> <span class="pre">:</span> <span class="pre">Num.num</span></code> is the right endpoint of the interval
<code class="docutils literal"><span class="pre">err</span> <span class="pre">:</span> <span class="pre">Num.num</span></code> is the margin of error we can tolerate</div></blockquote>
<p>The function <code class="docutils literal"><span class="pre">root</span></code> should return a root <code class="docutils literal"><span class="pre">r</span> <span class="pre">:</span> <span class="pre">Num.num</span></code> that lies within the interval (<code class="docutils literal"><span class="pre">r</span></code>-<code class="docutils literal"><span class="pre">err</span></code>, <code class="docutils literal"><span class="pre">r</span></code>+<code class="docutils literal"><span class="pre">err</span></code>).</p>
<p>Note: The library Num is not loaded into the OCaml top-level. To load it you need to execute the following top-level commands:</p>
<div class="highlight-ocaml"><div class="highlight"><pre><span></span><span class="o">#</span> <span class="o">#</span><span class="n">use</span> <span class="s2">&quot;topfind&quot;</span><span class="o">;;</span>
<span class="o">#</span> <span class="o">#</span><span class="n">require</span> <span class="s2">&quot;num&quot;</span><span class="o">;;</span>
<span class="o">#</span> <span class="k">open</span> <span class="nc">Num</span><span class="o">;;</span>
</pre></div>
</div>
<p>Here is an example usage of the function root to find solutions to the equation (x-4)*(x-6)=0 with error 1/100 then with error 1/1000:</p>
<div class="highlight-ocaml"><div class="highlight"><pre><span></span><span class="k">val</span> <span class="n">root</span> <span class="o">:</span> <span class="o">(</span><span class="nn">Num</span><span class="p">.</span><span class="n">num</span> <span class="o">-&gt;</span> <span class="nn">Num</span><span class="p">.</span><span class="n">num</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nn">Num</span><span class="p">.</span><span class="n">num</span> <span class="o">-&gt;</span> <span class="nn">Num</span><span class="p">.</span><span class="n">num</span> <span class="o">-&gt;</span> <span class="nn">Num</span><span class="p">.</span><span class="n">num</span> <span class="o">-&gt;</span> <span class="nn">Num</span><span class="p">.</span><span class="n">num</span> <span class="o">=</span> <span class="o">&lt;</span><span class="k">fun</span><span class="o">&gt;</span>
<span class="o">#</span> <span class="k">let</span> <span class="n">r0</span> <span class="o">=</span> <span class="n">num_of_int</span> <span class="mi">4</span><span class="o">;;</span>
<span class="k">val</span> <span class="n">r0</span> <span class="o">:</span> <span class="nn">Num</span><span class="p">.</span><span class="n">num</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">num</span> <span class="mi">4</span><span class="o">&gt;</span>
<span class="o">#</span> <span class="k">let</span> <span class="n">r1</span> <span class="o">=</span> <span class="n">num_of_int</span> <span class="mi">6</span><span class="o">;;</span>
<span class="k">val</span> <span class="n">r1</span> <span class="o">:</span> <span class="nn">Num</span><span class="p">.</span><span class="n">num</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">num</span> <span class="mi">6</span><span class="o">&gt;</span>
<span class="o">#</span> <span class="k">let</span> <span class="n">f</span> <span class="n">x</span> <span class="o">=</span> <span class="o">(</span><span class="n">x</span> <span class="o">-/</span> <span class="n">r0</span><span class="o">)</span> <span class="o">*/</span> <span class="o">(</span><span class="n">x</span> <span class="o">-/</span> <span class="n">r1</span><span class="o">)</span> <span class="o">;;</span>
<span class="k">val</span> <span class="n">f</span> <span class="o">:</span> <span class="nn">Num</span><span class="p">.</span><span class="n">num</span> <span class="o">-&gt;</span> <span class="nn">Num</span><span class="p">.</span><span class="n">num</span> <span class="o">=</span> <span class="o">&lt;</span><span class="k">fun</span><span class="o">&gt;</span>
<span class="o">#</span> <span class="n">root</span> <span class="n">f</span> <span class="o">(</span><span class="n">num_of_int</span> <span class="mi">5</span><span class="o">)</span> <span class="o">(</span><span class="n">num_of_int</span> <span class="mi">8</span><span class="o">)</span> <span class="o">(</span><span class="n">num_of_int</span> <span class="mi">1</span> <span class="o">//</span> <span class="n">num_of_int</span> <span class="mi">100</span><span class="o">);;</span>
<span class="o">-</span> <span class="o">:</span> <span class="nn">Num</span><span class="p">.</span><span class="n">num</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">num</span> <span class="mi">5123</span><span class="o">/</span><span class="mi">1024</span><span class="o">&gt;</span>
<span class="o">#</span> <span class="n">root</span> <span class="n">f</span> <span class="o">(</span><span class="n">num_of_int</span> <span class="mi">5</span><span class="o">)</span> <span class="o">(</span><span class="n">num_of_int</span> <span class="mi">8</span><span class="o">)</span> <span class="o">(</span><span class="n">num_of_int</span> <span class="mi">1</span> <span class="o">//</span> <span class="n">num_of_int</span> <span class="mi">1000</span><span class="o">);;</span>
<span class="o">-</span> <span class="o">:</span> <span class="nn">Num</span><span class="p">.</span><span class="n">num</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">num</span> <span class="mi">40963</span><span class="o">/</span><span class="mi">8192</span><span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="question-3">
<h2>Question 3<a class="headerlink" href="#question-3" title="Permalink to this headline">¶</a></h2>
<p>Given a list of native int values correctly calculate its sum. If there is an order in which the elements can be added so that there is no overflow, that order is used. For example the sum of the list  [max_int, max_int, -max_int] should be Some max_int. In case of unavoidable overflow the function should return None.</p>
<p>Note: You are not allowed to use any arbitrary precision library but, for efficiency, you must operate directly on the native int type of OCaml.</p>
<div class="highlight-ocaml"><div class="highlight"><pre><span></span><span class="k">val</span> <span class="n">add</span> <span class="o">:</span> <span class="kt">int</span> <span class="kt">list</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="n">option</span> <span class="o">=</span> <span class="o">&lt;</span><span class="k">fun</span><span class="o">&gt;</span>
<span class="o">#</span> <span class="k">let</span> <span class="n">m</span> <span class="o">=</span> <span class="n">max_int</span><span class="o">;;</span>
<span class="k">val</span> <span class="n">m</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">4611686018427387903</span>
<span class="o">#</span> <span class="k">let</span> <span class="o">_</span> <span class="o">=</span> <span class="n">add</span> <span class="o">[</span><span class="n">m</span><span class="o">;</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span> <span class="o">-</span><span class="n">m</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="o">-</span><span class="n">m</span><span class="o">;</span> <span class="mi">8</span><span class="o">;</span> <span class="mi">9</span><span class="o">;</span> <span class="n">m</span><span class="o">];;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="n">option</span> <span class="o">=</span> <span class="nc">Some</span> <span class="mi">18</span>
<span class="o">#</span> <span class="k">let</span> <span class="o">_</span> <span class="o">=</span> <span class="n">add</span> <span class="o">[</span><span class="n">m</span><span class="o">;</span> <span class="mi">1</span><span class="o">;</span> <span class="n">m</span><span class="o">;</span> <span class="o">-</span><span class="mi">5</span><span class="o">];;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="n">option</span> <span class="o">=</span> <span class="nc">None</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">(Week 10 programming: exercises of week 9)</a><ul>
<li><a class="reference internal" href="#question-1">Question 1</a></li>
<li><a class="reference internal" href="#question-2">Question 2</a></li>
<li><a class="reference internal" href="#question-3">Question 3</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="week09p-qs.html" title="previous chapter">Week 9: programming assignments from week 8</a></li>
      <li>Next: <a href="week11p.html" title="next chapter">Week 11: exercises from week 10</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/Exercises/week10p.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015. Feel free to reuse under CC-BY 4.0.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.9</a>
      
      |
      <a href="../_sources/Exercises/week10p.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/bgeron/uob-2015-efc" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>