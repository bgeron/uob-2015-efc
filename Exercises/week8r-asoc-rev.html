<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Week 8: Full Proof of Associativity: &mdash; UoB 2015 EFC auxiliary exercises</title>
    
    <link rel="stylesheet" href="../_static/mytheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/collapse-details-polyfill.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '-',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/jquery.details.min.js"></script>
    <script type="text/javascript" src="../_static/collapse-details-polyfill.js"></script>
    <link rel="top" title="UoB 2015 EFC auxiliary exercises" href="../index.html" />
    <link rel="prev" title="Week 8: tail recursion" href="week8p-tailrec.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="week8p-tailrec.html" title="Week 8: tail recursion"
             accesskey="P">previous</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">List of extra exercises</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="week-8-full-proof-of-associativity">
<h1>Week 8: Full Proof of Associativity:<a class="headerlink" href="#week-8-full-proof-of-associativity" title="Permalink to this headline">Â¶</a></h1>
<p>Last time we proved associativity for the base case (aka case nil). This time we aim to fill the gap for the inductive step and complete the proof.
Remember we try to prove</p>
<div class="highlight-python"><div class="highlight"><pre>app (app xs ys) zs = app xs (app ys zs)
</pre></div>
</div>
<p>The base case is when <code class="docutils literal"><span class="pre">xs</span> <span class="pre">=</span> <span class="pre">[]</span></code> and we proved</p>
<div class="highlight-python"><div class="highlight"><pre>app (app [] ys) zs = app [] (app ys zs)
</pre></div>
</div>
<p>For inductive step, we first give a diagrammatic proof. (On the board)</p>
<p>Notice that the inductive step which should be proved is</p>
<div class="highlight-python"><div class="highlight"><pre>app (app (x::xs) ys) zs = app (x::xs) (app ys zs)
</pre></div>
</div>
<p>While the induction hypothesis is</p>
<div class="highlight-python"><div class="highlight"><pre>app (app xs ys) zs = app xs (app ys zs)
</pre></div>
</div>
<p>The full proof is as follows</p>
<div class="highlight-python"><div class="highlight"><pre>Signatures:
    app  : _a list -&gt; _a list -&gt; _a list ;
    rev  : _a list -&gt; _a list ;

Definitions:
    [app nil] : forall xs : _a list . app [] xs = xs : _a list ;
    [app xs]  : forall x : _a . forall xs : _a list . forall ys : _a list . app (x::xs) ys = x :: app xs ys : _a list ;
    [rev nil] : rev [] = [] : _a list ;
    [rev xs]  : forall xs : _a list . forall x : _a . rev (x :: xs) = app (rev xs) (x :: []) : _a list ;


Theorem [lemma]:
    Statement: forall xs : _a list . forall ys : _a list . forall zs : _a list .
               app (app xs ys) zs = app xs (app ys zs) : _a list
    Proof:
        by induction on list:
        case nil:
            assume ys : _a list.
            assume zs : _a list.
            we know [prem 1] : app [] ys = ys : _a list because [app nil] with (ys).
            we know [prem 2] : app [] (app ys zs) = (app ys zs) : _a list because [app nil] with (app ys zs).

            we know [step 1] : app (app [] ys) zs = app ys zs : _a list because equality on ([prem 1]).
            we know [step 2] : app (app [] ys) zs = app [] (app ys zs) : _a list because equality on ([step 1];[prem 2]).
            by [step 2]

        case (x::xs): [IH] : forall ys : _a list . forall zs : _a list .
                        app (app xs ys) zs = app xs (app ys zs) : _a list .
            assume ys : _a list.
            assume zs : _a list.
            we know [prem 1] : app (x::xs) ys = x::(app xs ys) : _a list because [app xs] with (x;xs;ys).
            we know [prem 2] : app (x::(app xs ys)) zs = x::(app (app xs ys) zs) : _a list because [app xs] with (x;app xs ys;zs).
            we know [prem 3] : app (app xs ys) zs = app xs (app ys zs) : _a list because [IH] with (ys;zs).
            we know [prem 4] : app (x::xs) (app ys zs) = x::(app xs (app ys zs)) : _a list because [app xs] with (x;xs;app ys zs).

            we know [step 1] : app (app (x::xs) ys) zs = app (x::(app xs ys)) zs : _a list because equality on ([prem 1]).
            we know [step 2] : app (app (x::xs) ys) zs = x::(app (app xs ys) zs) : _a list because equality on ([step 1];[prem 2]).
            we know [step 3] : app (app (x::xs) ys) zs = x::(app xs (app ys zs)) : _a list because equality on ([step 2];[prem 3]).
            we know [step 4] : app (app (x::xs) ys) zs = app (x::xs) (app ys zs) : _a list because equality on ([step 3];[prem 4]).
            by [step 4]
    QED.
</pre></div>
</div>
<p>Now we can prove a more specific proposition</p>
<div class="highlight-python"><div class="highlight"><pre>Theorem [example 6]:
    Statement: forall xs : _a list . forall x : _a . forall ys : _a list .
           app (app (rev ys) (rev xs)) (x::[]) = app (rev ys) (app (rev xs) (x::[])) : _a list
    Proof:
        assume xs : _a list .
        assume x : _a .
        assume ys : _a list .
        [lemma] with (rev ys; rev xs; x::[])
    QED.
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="week8p-tailrec.html" title="previous chapter">Week 8: tail recursion</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/Exercises/week8r-asoc-rev.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="week8p-tailrec.html" title="Week 8: tail recursion"
             >previous</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">List of extra exercises</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015. Feel free to reuse under CC-BY 4.0.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>